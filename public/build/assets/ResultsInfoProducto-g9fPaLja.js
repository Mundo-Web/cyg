var h=Object.defineProperty;var b=(t,s,n)=>s in t?h(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var m=(t,s,n)=>(b(t,typeof s!="symbol"?s+"":s,n),n);import{j as e}from"./RequirementCard-DEdD30eg.js";import{r as u}from"./index-RYns6xqu.js";import{u as g}from"./useTranslation-CZbMeh78.js";import{m as r}from"./proxy-Dg7W2VMC.js";import{A as f,F as y}from"./ArrayJoin-BjKPV8SR.js";import{W as j}from"./Header-CmYtnd67.js";import{B as v}from"./Results-BBVbNL2k.js";const N=({name:t,summary:s,image:n,collaborator:x,info_date:c})=>{const l=c?new Date(c).toLocaleDateString("es-PE",{day:"numeric",month:"short",year:"numeric"}):"",d=`Hola, me interesa obtener más información sobre el infoproducto "${t}".

📄 *Resumen:* ${s}
👨‍💼 *Colaborador:* ${x}
📅 *Fecha:* ${l}

¿Podrían brindarme más detalles al respecto?`;return e.jsxs("div",{className:" rounded-lg overflow-hidden flex flex-col h-full text-paragraph",children:[e.jsx("img",{src:n?`/api/infoproducts/media/${n}`:"/assets/img/placeholder.png",alt:t,className:"w-full aspect-[4/3] object-cover object-center rounded-lg"}),e.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-neutral mb-2 leading-tight",children:t}),e.jsx("p",{className:"text-neutral text-base mb-4 flex-1",children:s}),e.jsxs("div",{className:"flex justify-between items-end text-sm mt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-accent font-semibold",children:"Colaborador"}),e.jsx("span",{className:"block text-neutral",children:x})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"block text-accent font-semibold",children:"Fecha"}),e.jsx("span",{className:"block text-neutral",children:l})]})]}),e.jsx(j,{variant:"constrast",className:"mt-6 w-full bg-constrast text-white font-semibold py-3 rounded-xl transition-colors hover:bg-red-600",customMessage:d,showIcon:!1,children:"Más información"})]})]})};class w extends v{constructor(){super(...arguments);m(this,"path","infoproducts")}}const I=({categories:t,filter:s,setFilter:n,landing:x})=>{const c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},l={hover:{scale:1.05,boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:{duration:.3,ease:"easeOut"}},tap:{scale:.98}},d={focus:{boxShadow:"0 0 0 2px #3b82f6",transition:{duration:.2}}},{t:i}=g();return e.jsxs(r.section,{className:"py-8 xl:py-12 px-[5%]",initial:"hidden",animate:"visible",variants:c,children:[e.jsxs("div",{className:"block lg:hidden space-y-6",children:[e.jsxs(r.label,{htmlFor:"txt-search-mobile",className:"w-full px-4 py-3 flex items-center rounded-3xl bg-[#F5F2F9]",variants:d,whileHover:{y:-3},whileFocus:"focus",children:[e.jsx(r.i,{className:"fas fa-search text-negro mr-2",whileHover:{scale:1.1}}),e.jsx(r.input,{id:"txt-search-mobile",type:"text",placeholder:i("public.post.search","Buscar publicación"),className:"w-full bg-transparent border-none outline-none text-slate-800",onChange:a=>n(o=>({...o,search:a.target.value})),whileFocus:{outline:"none",x:3}})]}),e.jsxs(r.div,{className:"flex flex-wrap gap-2 justify-start",variants:c,children:[e.jsx(r.button,{className:`px-3 py-2 text-sm text-neutral border-b-2 ${s.category===null?"border-accent":"border-transparent"}`,onClick:()=>n(a=>({...a,category:null})),variants:l,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:.05},children:"Todos"}),t.map((a,o)=>e.jsx(r.button,{className:`px-3 py-2 text-sm text-neutral border-b-2 ${a.id==s.category?"border-accent":"border-transparent"}`,onClick:()=>n(p=>({...p,category:a.id==s.category?null:a.id})),variants:l,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:(o+1)*.05},children:a.name},o))]})]}),e.jsxs("div",{className:"hidden lg:flex justify-between items-center",children:[e.jsx(r.div,{className:"flex flex-wrap gap-3 justify-start",variants:c,children:e.jsxs("div",{className:"flex",children:[e.jsx(r.button,{className:`px-4 py-2.5 text-neutral border-b-2 ${s.category===null?"border-accent":"border-transparent"}`,onClick:()=>n(a=>({...a,category:null})),variants:l,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:.05},children:"Todos"}),t.map((a,o)=>e.jsx(r.button,{className:`px-4 py-2.5 text-neutral border-b-2 ${a.id==s.category?"border-accent":"border-transparent"}`,onClick:()=>n(p=>({...p,category:a.id==s.category?null:a.id})),variants:l,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:(o+1)*.05},children:a.name},o))]})}),e.jsxs(r.label,{htmlFor:"txt-search-desktop",className:"px-6 py-4 flex items-center rounded-3xl bg-[#F5F2F9] min-w-[350px] max-w-2xl",variants:d,whileHover:{y:-3},whileFocus:"focus",children:[e.jsx(r.i,{className:"fas fa-search text-negro mr-2",whileHover:{scale:1.1}}),e.jsx(r.input,{id:"txt-search-desktop",type:"text",placeholder:i("public.post.search","Buscar publicación"),className:"w-full bg-transparent border-none outline-none text-slate-800",onChange:a=>n(o=>({...o,search:a.target.value})),whileFocus:{outline:"none",x:3}})]})]})]})},F=new w,E=({filter:t})=>{const[s,n]=u.useState([]),[x,c]=u.useState(1),[l,d]=u.useState(1);return u.useEffect(()=>{const i=[["name","contains",t.search],["summary","contains",t.search]];t.category&&i.push(["category_id","=",t.category]),F.paginate({filter:f(i,"and"),requireTotalCount:!0,skip:6*(l-1),sort:[{selector:"created_at",desc:t.sortOrder=="desc"}],take:6}).then(({status:a,data:o,totalCount:p})=>{a==200&&(c(Math.ceil(p/12)),n(o))})},[t,l]),e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"px-[5%] pt-0 min-h-[300px] grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.length>0?s.map((i,a)=>e.jsx(N,{...i},i.id||a)):e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16",children:[e.jsx("img",{src:"/assets/img/empty-box.png",alt:"Sin resultados",className:"w-32 h-32 mb-4 animate-bounce"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"No se encontraron resultados"})]})}),e.jsx("div",{className:"p-[5%]",children:e.jsx(y,{pages:x,current:l,setCurrent:d})})]})};export{I as F,E as R};
